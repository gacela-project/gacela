<?xml version="1.0" encoding="UTF-8"?>
<!--
    Gacela Psalm Configuration

    This file contains issue handler suppressions for Gacela's dynamic resolution patterns.
    Include this in your psalm.xml using XInclude:

    <xi:include href="vendor/gacela-project/gacela/psalm-gacela.xml"/>

    See docs/static-analysis.md for detailed instructions.
-->
<issueHandlers xmlns="https://getpsalm.org/schema/config">
    <!-- Gacela framework dynamic resolution suppressions (via #[ServiceMap] attributes) -->
    <UndefinedMagicMethod>
        <errorLevel type="suppress">
            <referencedMethod name="*::getFacade" />
            <referencedMethod name="*::getFactory" />
            <referencedMethod name="*::getConfig" />
        </errorLevel>
    </UndefinedMagicMethod>
    <!-- Ignore config methods that are resolved at runtime by Gacela -->
    <!-- TODO: narrow the context of this ignoring error to make sure it is by using something that is related to Gacela if possible -->
    <UndefinedMethod errorLevel="suppress" />
    <InvalidArgument errorLevel="suppress" />
</issueHandlers>
